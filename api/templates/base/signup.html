{% extends 'base.html' %}
{% load static %}
{% block title %}
Homepage - APREA
{% endblock title %}


{% block content %}



<div class="container" style="padding-top: 20px;padding-bottom: 30px;">
    <div class="row py-5 my-5 text-center">
        <h2 class="text-light">Sign up</h2>
    </div>
</div>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.2/rollups/aes.js"></script>
    <script src="http://crypto-js.googlecode.com/svn/tags/3.1.2/build/rollups/md5.js"></script>
<div class="container">
  <div class="py-5 my-3 m-2">
    <div class="row  ">
      <div class="col-md-2"></div>
      <div class="col-md-8  rounded-2  p-md-5 shadow">
        <div class="row p-2 align-items-center justify-content-center">
          <div class="col-12 ">
            <h3 class="h2 text-success"> <b>Sign up</b> <strong></strong></h3>
            <p class="mb-4">If you have an account, sign in with your email address.</p>
            <form method="post">
              {% csrf_token %}
              <div class="d-flex flex-row align-items-center mb-4">
                <div class="form-outline flex-fill mb-0 mr-3 ">
                  <label for="username"> <b> First Name </b> </label>
                  <input type="text" name="firstname" class="form-control" placeholder="" required>
                </div>
                <div class="form-outline flex-fill mb-0 mr-3">
                  <label for="username"> <b> Last Name </b> </label>
                  <input type="text" name="lastname" class="form-control" placeholder="" required>
                </div>
              </div>
              <div class="d-flex flex-row align-items-center mb-4">
                <div class="form-outline flex-fill mb-0 mr-3">
                  <label for=""> <b> Email </b> </label>
                  <input type="email" name="email" class="form-control" placeholder="" required>
                </div>
                <div class="form-outline flex-fill mb-0 mr-3">
                  <label for=""> <b> Contact Number </b> </label>
                  <input type="text" id="quantity" name="phonenumber" class="form-control" placeholder="" maxlength="11" required>
                </div>
              </div>
              <div class="d-flex flex-row align-items-center mb-4">
                <div class="form-outline flex-fill mb-0 mr-3">
                  <label for=""> <b> Password </b> </label>
                  <input  id="password" type="password" name="password" class="form-control" placeholder="Enter Password" maxlength="64" minlength="1" required onkeyup="validate_password()">
                </div>
                <div class="form-outline flex-fill mb-0 mr-3">
                  <label for=""> <b> Confirm Password</b> </label>
                  <input  id="confirm_pass" type="password" class="form-control" placeholder="Confirm Password" maxlength="64" minlength="1" required onkeyup="validate_password()">
                </div>
              </div>
              <span id="wrong_pass_alert"></span>
              <div class="row">
                <div class="col-md-9"> <label class="control control--checkbox mb-0">
                    <input type="checkbox"   required/>
                    <span class="caption"> I agree all statements in Terms of service</span>
                    <div class="control__indicator"></div>
                  </label></div>
                <div class="col-md-3">
                </div>
              </div>
              <div class="d-flex mb-5 align-items-center">
              </div>
              <div class="row">
                <div class="col-3"></div>
                
                <div class="col-6">
                  <button  type="submit" id="create" class="submit_btn btn btn-block btn-success" onclick="hash()">
                    Sign Up
                </button>
                  </div>
                <div class="col-3"></div>
                <div class="col-6">{% include './messages.html' %}</div>
                <div class="col-6"></div>

              </div>
            </form>
          </div>
        </div>
      </div>
      <div class="col-md-2"></div>
    </div>
  </div>
</div>
<script>
  function hash()
  {
    pass= document.getElementById("password").value;
    var hash = CryptoJS.MD5(pass);
    console.log(hash)
    document.getElementById('password').value=hash;
  }
  function validate_password() {

      var pass = document.getElementById('pass').value;
      var confirm_pass = document.getElementById('confirm_pass').value;
      if (pass != confirm_pass) {
          document.getElementById('wrong_pass_alert').style.color = 'red';
          document.getElementById('wrong_pass_alert').innerHTML
              = 'â˜’ Use same password';
          document.getElementById('create').disabled = true;
          document.getElementById('create').style.opacity = (0.4);
      } else {
          document.getElementById('wrong_pass_alert').style.color = 'green';
          document.getElementById('wrong_pass_alert').innerHTML =
              '';
          document.getElementById('create').disabled = false;
          document.getElementById('create').style.opacity = (1);
      }
  }

  // function wrong_pass_alert() {
  //     if (document.getElementById('pass').value != "" &&
  //         document.getElementById('confirm_pass').value != "") {
  //         alert("Your response is submitted");
  //     } else {
  //         alert("Please fill all the fields");
  //     }
  // }
</script>
{% endblock content %}

